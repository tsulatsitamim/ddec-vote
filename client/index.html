<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daihatsu Setia</title>

    <script
      src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"
      type="text/javascript"
    ></script>
    <script
      src="https://unpkg.com/daihatsu-ui@3.1.3/dist/daihatsu.min.js"
      type="text/javascript"
    ></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/css/lightgallery.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/css/lg-zoom.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/css/lg-thumbnail.css"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <link href="/daihatsu-setia-club/assets/css/main.css" rel="stylesheet" />
    <script src="//unpkg.com/alpinejs" defer></script>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-MLSQLK");
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body class="text-dark">
    <daihatsu-navbar></daihatsu-navbar>
    <section id="banner" class="pt-[59px] md:pt-0">
      <img
        class="w-full h-auto lg:h-screen object-cover"
        src="/daihatsu-setia-club/assets/images/banner-desktop.jpg"
        alt=""
      />
    </section>
    <section
      id="second-section"
      class="py-8 md:py-20 px-6 md:px-20 max-w-7xl mx-auto"
    >
      <h2 class="font-bold text-2xl mb-4 text-center">
        TERUS SETIA BERSAMA DAIHATSU
      </h2>
      <div class="w-9 h-0.5 bg-dark mb-7 mx-auto"></div>
      <p class="text-center md:text-lg">
        Sebagai Sahabat, Daihatsu selalu setia menemani semua momenmu dan
        keluarga. Mulai dari senang, sedih, dan mengejutkan, semua ada
        ceritanya. Yuk, bagikan ceritamu sekarang! Siapa tahu dapat hadiah dari
        Daihatsu Setia.
      </p>
    </section>
    <section
      id="procedure"
      class="py-8 lg:py-20 px-0 lg:px-20 max-w-7xl mx-auto flex flex-col lg:flex-row"
    >
      <div class="px-6 flex-1">
        <h2
          class="text-2xl md:text-3xl font-bold text-center lg:text-start mb-11"
        >
          Cara Ikutan Daihatsu Setia 2022
        </h2>
        <ul class="list-decimal">
          <li class="ml-4">
            Buat konten paling seru dengan cerita momen berkesan bersama
            Daihatsu.
          </li>
          <li class="ml-4">Konten bisa berupa foto atau video.</li>
          <li class="ml-4">
            Upload konten di salah satu media sosial pilihanmu (Facebook,
            Instagram, Twitter, atau TikTok).
          </li>
          <li class="ml-4">
            Jangan lupa mention dan tag media sosial @daihatsuind.
          </li>
          <li class="ml-4">
            Gunakan hashtag #DaihatsuSetia2022 #DaihatsuSetia.
          </li>
          <li class="ml-4">Keputusan juri bersifat mutlak.</li>
        </ul>
      </div>
      <div class="py-11 lg:py-0 flex-1">
        <section class="splide" aria-label="Splide Basic HTML Example">
          <div class="splide__track">
            <ul class="splide__list">
              <li class="splide__slide">
                <img
                  src="/daihatsu-setia-club/assets/images/tiktok.webp"
                  alt=""
                />
              </li>
              <li class="splide__slide">
                <img src="/daihatsu-setia-club/assets/images/ig.webp" alt="" />
              </li>
              <li class="splide__slide">
                <img src="/daihatsu-setia-club/assets/images/fb.webp" alt="" />
              </li>
              <li class="splide__slide">
                <img src="/daihatsu-setia-club/assets/images/tw.webp" alt="" />
              </li>
            </ul>
          </div>
        </section>
      </div>
    </section>
    <section
      id="second-section"
      class="py-8 md:py-20 px-6 md:px-20 max-w-7xl mx-auto"
    >
      <h2 class="font-bold text-2xl md:text-3xl mb-4 text-center">
        LEADER BOARD
      </h2>
      <div class="w-9 h-0.5 bg-dark mb-7 mx-auto"></div>
      <div class="space-y-6 max-w-2xl mx-auto">
        <div
          class="bg-board rounded-2xl relative w-full text-white shadow-lg shadow-board/30"
        >
          <div class="absolute inset-0 rounded-2xl overflow-hidden">
            <div
              class="absolute w-full h-full bg-board-2 translate-x-[55%] -skew-x-12"
            ></div>
          </div>
          <div
            class="absolute h-14 w-14 -top-2 -left-2 bg-blue-600 rounded"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          ></div>
          <div
            class="absolute h-14 w-14 -top-2.5 -left-2.5 bg-blue-sky rounded text-white italic font-bold text-3xl"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          >
            1<span class="text-xs">st</span>
          </div>
          <div
            class="relative w-full inset-0 pt-2 pb-4 pl-12 pr-4 flex justify-between text-white"
          >
            <div>
              <div class="text-sm mb-3">Nama club</div>
              <div class="bg-white h-0.5 w-2.5 mb-3"></div>
              <div id="peringkat1" class="font-bold text-sm">-</div>
            </div>
            <div class="text-center">
              <div class="text-sm mb-3">Total Submission</div>
              <div class="bg-white h-0.5 w-2.5 mb-3 mx-auto"></div>
              <div id="peringkat1score" class="font-bold text-sm">0</div>
            </div>
          </div>
        </div>
        <div
          class="bg-board rounded-2xl relative w-full text-white shadow-lg shadow-board/30"
        >
          <div class="absolute inset-0 rounded-2xl overflow-hidden">
            <div
              class="absolute w-full h-full bg-board-2 translate-x-[55%] -skew-x-12"
            ></div>
          </div>
          <div
            class="absolute h-14 w-14 -top-2 -left-2 bg-blue-600 rounded"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          ></div>
          <div
            class="absolute h-14 w-14 -top-2.5 -left-2.5 bg-blue-sky rounded text-white italic font-bold text-3xl"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          >
            2<span class="text-xs">nd</span>
          </div>
          <div
            class="relative w-full inset-0 pt-2 pb-4 pl-12 pr-4 flex justify-between text-white"
          >
            <div>
              <div class="text-sm mb-3">Nama club</div>
              <div class="bg-white h-0.5 w-2.5 mb-3"></div>
              <div id="peringkat2" class="font-bold text-sm">-</div>
            </div>
            <div class="text-center">
              <div class="text-sm mb-3">Total Submission</div>
              <div class="bg-white h-0.5 w-2.5 mb-3 mx-auto"></div>
              <div id="peringkat2score" class="font-bold text-sm">0</div>
            </div>
          </div>
        </div>
        <div
          class="bg-board rounded-2xl relative w-full text-white shadow-lg shadow-board/30"
        >
          <div class="absolute inset-0 rounded-2xl overflow-hidden">
            <div
              class="absolute w-full h-full bg-board-2 translate-x-[55%] -skew-x-12"
            ></div>
          </div>
          <div
            class="absolute h-14 w-14 -top-2 -left-2 bg-blue-600 rounded"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          ></div>
          <div
            class="absolute h-14 w-14 -top-2.5 -left-2.5 bg-blue-sky rounded text-white italic font-bold text-3xl"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          >
            3<span class="text-xs">rd</span>
          </div>
          <div
            class="relative w-full inset-0 pt-2 pb-4 pl-12 pr-4 flex justify-between text-white"
          >
            <div>
              <div class="text-sm mb-3">Nama club</div>
              <div class="bg-white h-0.5 w-2.5 mb-3"></div>
              <div id="peringkat3" class="font-bold text-sm">-</div>
            </div>
            <div class="text-center">
              <div class="text-sm mb-3">Total Submission</div>
              <div class="bg-white h-0.5 w-2.5 mb-3 mx-auto"></div>
              <div id="peringkat3score" class="font-bold text-sm">0</div>
            </div>
          </div>
        </div>
        <div
          class="bg-white rounded-2xl relative w-full shadow-lg shadow-black/30"
        >
          <div class="absolute inset-0 rounded-2xl overflow-hidden">
            <div
              class="absolute w-full h-full bg-white translate-x-[55%] -skew-x-12"
            ></div>
          </div>
          <div
            class="absolute h-14 w-14 -top-2 -left-2 bg-[#A8A8A8] rounded"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          ></div>
          <div
            class="absolute h-14 w-14 -top-2.5 -left-2.5 bg-[#7a7a7a] rounded italic text-white font-bold text-3xl"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          >
            4<span class="text-xs">th</span>
          </div>
          <div
            class="relative w-full inset-0 pt-2 pb-4 pl-12 pr-4 flex justify-between"
          >
            <div>
              <div class="text-sm mb-3">Nama club</div>
              <div class="bg-dark h-0.5 w-2.5 mb-3"></div>
              <div id="peringkat4" class="font-bold text-sm">-</div>
            </div>
            <div class="text-center">
              <div class="text-sm mb-3">Total Submission</div>
              <div class="bg-dark h-0.5 w-2.5 mb-3 mx-auto"></div>
              <div id="peringkat4score" class="font-bold text-sm">0</div>
            </div>
          </div>
        </div>
        <div
          class="bg-white rounded-2xl relative w-full shadow-lg shadow-black/30"
        >
          <div class="absolute inset-0 rounded-2xl overflow-hidden">
            <div
              class="absolute w-full h-full bg-white translate-x-[55%] -skew-x-12"
            ></div>
          </div>
          <div
            class="absolute h-14 w-14 -top-2 -left-2 bg-[#A8A8A8] rounded"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          ></div>
          <div
            class="absolute h-14 w-14 -top-2.5 -left-2.5 bg-[#7a7a7a] rounded italic text-white font-bold text-3xl"
            style="clip-path: polygon(100% 0, 100% 20%, 30% 100%, 0 100%, 0 0)"
          >
            5<span class="text-xs">th</span>
          </div>
          <div
            class="relative w-full inset-0 pt-2 pb-4 pl-12 pr-4 flex justify-between"
          >
            <div>
              <div class="text-sm mb-3">Nama club</div>
              <div class="bg-dark h-0.5 w-2.5 mb-3"></div>
              <div id="peringkat5" class="font-bold text-sm">-</div>
            </div>
            <div class="text-center">
              <div class="text-sm mb-3">Total Submission</div>
              <div class="bg-dark h-0.5 w-2.5 mb-3 mx-auto"></div>
              <div id="peringkat5score" class="font-bold text-sm">0</div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="form" class="py-8 md:py-20 px-6 md:px-20 mx-auto bg-[#f7f7f7]">
      <h2 class="font-bold text-2xl md:text-3xl mb-4 text-center">FORM</h2>
      <div class="w-9 h-0.5 bg-dark mb-7 mx-auto"></div>
      <div class="bg-white rounded-lg px-6 py-9 max-w-xl mx-auto">
        <div class="mb-5">
          <label for="fName" class="mb-3 block text-base text-dark">
            Nama akun
          </label>
          <input
            type="text"
            name="fName"
            id="fName"
            placeholder="Nama akun kamu"
            class="w-full rounded-md bg-[#f7f7f7] py-3 px-6 text-base text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
          />
        </div>
        <div class="mb-5">
          <label for="fPhone" class="mb-3 block text-base text-dark">
            No handphone
          </label>
          <input
            type="number"
            name="fPhone"
            id="fPhone"
            placeholder="Nomor Handphone kamu"
            class="w-full rounded-md bg-[#f7f7f7] py-3 px-6 text-base text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
          />
        </div>
        <div class="mb-5">
          <label for="fLink" class="mb-3 block text-base text-dark">
            Link Posting
          </label>
          <input
            type="text"
            name="fLink"
            id="fLink"
            placeholder="Link postingan kamu"
            class="w-full rounded-md bg-[#f7f7f7] py-3 px-6 text-base text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
          />
        </div>
        <div class="mb-5">
          <label for="fLink" class="mb-3 block text-base text-dark">
            Nama Club
          </label>

          <div
            x-data="{clubs: []}"
            x-init="fetch('https://daihatsu.co.id/daihatsu-setia-club-api/clubs')
              .then(response => response.json())
              .then(data => clubs = data)"
          >
            <select
              id="fClub"
              class="w-full rounded-md bg-[#f7f7f7] py-3 px-6 text-base text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
            >
              <option selected value="">Nama club...</option>
              <template x-for="club in clubs">
                <option :value="club.name" x-text="club.name"></option>
              </template>
              <option value="Lainnya">Lainnya</option>
            </select>

            <input
              type="text"
              name="fClubCustom"
              id="fClubCustom"
              placeholder="Tuliskan nama club kamu"
              style="display: none"
              class="w-full mt-2 rounded-md bg-[#f7f7f7] py-3 px-6 text-base text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
            />
          </div>
        </div>
        <button
          onclick="sendData()"
          class="bg-board text-white font-bold px-16 py-2 rounded-lg block mx-auto mt-12"
        >
          Submit
        </button>
      </div>
    </section>
    <section class="py-8 md:py-20 px-6 md:px-20 mx-auto bg-[#F5FAFF]">
      <h2 class="font-bold text-2xl md:text-3xl mb-4 text-center">GALERI</h2>
      <div class="w-9 h-0.5 bg-dark mb-7 mx-auto"></div>
      <div
        id="gallery"
        class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-max mx-auto"
      >
        <a href="/daihatsu-setia-club/assets/images/gallery1.jpg">
          <img src="/daihatsu-setia-club/assets/images/gallery1.jpg" />
        </a>
        <a href="/daihatsu-setia-club/assets/images/gallery2.jpg">
          <img src="/daihatsu-setia-club/assets/images/gallery2.jpg" />
        </a>
        <a href="/daihatsu-setia-club/assets/images/gallery3.jpg">
          <img src="/daihatsu-setia-club/assets/images/gallery3.jpg" />
        </a>
        <a href="/daihatsu-setia-club/assets/images/gallery4.jpg">
          <img src="/daihatsu-setia-club/assets/images/gallery4.jpg" />
        </a>
        <a href="/daihatsu-setia-club/assets/images/gallery5.jpg">
          <img src="/daihatsu-setia-club/assets/images/gallery5.jpg" />
        </a>
        <a href="/daihatsu-setia-club/assets/images/gallery6.jpg">
          <img src="/daihatsu-setia-club/assets/images/gallery6.jpg" />
        </a>
      </div>
    </section>
    <script>
      const getData = async () => {
        try {
          const res = await fetch(
            "https://daihatsu.co.id/daihatsu-setia-club-api/participants"
            // "http://localhost:3000/participants"
          );
          const data = await res.json();

          data.forEach((x, i) => {
            const el = document.getElementById(`peringkat${i + 1}`);
            el.innerHTML = x.name;

            const elScore = document.getElementById(`peringkat${i + 1}score`);
            elScore.innerHTML = x.count;
          });
        } catch (error) {
          console.log(error);
        }
      };

      const sendData = async () => {
        const name = document.getElementById("fName").value;
        const phone = document.getElementById("fPhone").value;
        const link = document.getElementById("fLink").value;
        const club = document.getElementById("fClub").value;
        const clubCustom = document.getElementById("fClubCustom").value;

        if (!name || !phone || !link || !club) {
          return Swal.fire({
            icon: "error",
            title: "Oops...",
            text: "Silahkan Lengkapi Form Terlebih Dahulu!",
          });
        }

        const payload = {
          name,
          phone,
          link,
          club: club === "Lainnya" ? clubCustom : club,
        };

        const res = await fetch(
          "https://daihatsu.co.id/daihatsu-setia-club-api/participants",
          // "http://localhost:3000/participants",
          {
            method: "POST",
            headers: {
              Accept: "application/json",
              "Content-Type": "application/json",
            },
            body: JSON.stringify(payload),
          }
        );

        const data = await res.json();

        if (!res.ok) {
          return Swal.fire({
            icon: "error",
            title: "Oops...",
            text: data?.message || "Mohon maaf terjadi gangguan server!",
          });
        }

        await getData();

        document.getElementById("fName").value = "";
        document.getElementById("fPhone").value = "";
        document.getElementById("fLink").value = "";
        document.getElementById("fClub").value = "";
        document.getElementById("fClubCustom").value = "";

        Swal.fire(
          "Good job!",
          "Selamat, data anda berhasil dikirim!",
          "success"
        );
      };
    </script>
    <daihatsu-footer></daihatsu-footer>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/lightgallery.umd.min.js"
    defer
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/plugins/zoom/lg-zoom.umd.js"
    defer
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/plugins/thumbnail/lg-thumbnail.umd.js"
    defer
  ></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
  <script
    src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"
    defer
  ></script>

  <script src="/daihatsu-setia-club/index.js?v=1"></script>
  <!-- <script src="/index.js"></script> -->
</html>
